import{$a as it,Aa as K,Ba as Gt,Ca as T,Da as z,Fa as be,J as ft,Ja as F,K as gt,Ka as O,L as _e,La as Ut,M as Bt,Ma as Ht,Na as rt,O as $,Oa as u,Pa as h,Q as et,Qa as Ce,Ra as x,Sa as w,Ta as L,Ua as M,V as S,Va as $t,W as E,Wa as b,Xa as B,Ya as c,Za as N,_a as Z,a as _,ab as mt,b as y,ba as D,da as Tt,db as U,ea as ye,eb as j,ga as jt,gb as we,h as fe,hb as Me,k as ge,ka as ve,nb as zt,oa as p,p as me,sa as nt,sb as W,u as pe,va as Rt,wa as V,wb as xe,xb as De}from"./chunk-GT54ZI57.js";var Pe=(()=>{class r{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,n){this._renderer=e,this._elementRef=n}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(n){return new(n||r)(V(Rt),V(jt))};static \u0275dir=T({type:r})}return r})(),fn=(()=>{class r extends Pe{static \u0275fac=(()=>{let e;return function(i){return(e||(e=ye(r)))(i||r)}})();static \u0275dir=T({type:r,features:[z]})}return r})(),Ie=new $("");var gn={provide:Ie,useExisting:gt(()=>Dt),multi:!0};function mn(){let r=zt()?zt().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}var pn=new $(""),Dt=(()=>{class r extends Pe{_compositionMode;_composing=!1;constructor(e,n,i){super(e,n),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!mn())}writeValue(e){let n=e??"";this.setProperty("value",n)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(n){return new(n||r)(V(Rt),V(jt),V(pn,8))};static \u0275dir=T({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,i){n&1&&M("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[mt([gn]),z]})}return r})();function Xt(r){return r==null||Jt(r)===0}function Jt(r){return r==null?null:Array.isArray(r)||typeof r=="string"?r.length:r instanceof Set?r.size:null}var Le=new $(""),Be=new $(""),_n=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ct=class{static min(t){return yn(t)}static max(t){return vn(t)}static required(t){return bn(t)}static requiredTrue(t){return Cn(t)}static email(t){return wn(t)}static minLength(t){return Mn(t)}static maxLength(t){return xn(t)}static pattern(t){return Dn(t)}static nullValidator(t){return Te()}static compose(t){return $e(t)}static composeAsync(t){return Ze(t)}};function yn(r){return t=>{if(t.value==null||r==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e<r?{min:{min:r,actual:t.value}}:null}}function vn(r){return t=>{if(t.value==null||r==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e>r?{max:{max:r,actual:t.value}}:null}}function bn(r){return Xt(r.value)?{required:!0}:null}function Cn(r){return r.value===!0?null:{required:!0}}function wn(r){return Xt(r.value)||_n.test(r.value)?null:{email:!0}}function Mn(r){return t=>{let e=t.value?.length??Jt(t.value);return e===null||e===0?null:e<r?{minlength:{requiredLength:r,actualLength:e}}:null}}function xn(r){return t=>{let e=t.value?.length??Jt(t.value);return e!==null&&e>r?{maxlength:{requiredLength:r,actualLength:e}}:null}}function Dn(r){if(!r)return Te;let t,e;return typeof r=="string"?(e="",r.charAt(0)!=="^"&&(e+="^"),e+=r,r.charAt(r.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=r.toString(),t=r),n=>{if(Xt(n.value))return null;let i=n.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}function Te(r){return null}function je(r){return r!=null}function Re(r){return be(r)?ge(r):r}function Ge(r){let t={};return r.forEach(e=>{t=e!=null?_(_({},t),e):t}),Object.keys(t).length===0?null:t}function Ue(r,t){return t.map(e=>e(r))}function Vn(r){return!r.validate}function He(r){return r.map(t=>Vn(t)?t:e=>t.validate(e))}function $e(r){if(!r)return null;let t=r.filter(je);return t.length==0?null:function(e){return Ge(Ue(e,t))}}function ze(r){return r!=null?$e(He(r)):null}function Ze(r){if(!r)return null;let t=r.filter(je);return t.length==0?null:function(e){let n=Ue(e,t).map(Re);return pe(n).pipe(me(Ge))}}function Ke(r){return r!=null?Ze(He(r)):null}function Ve(r,t){return r===null?[t]:Array.isArray(r)?[...r,t]:[r,t]}function We(r){return r._rawValidators}function qe(r){return r._rawAsyncValidators}function Zt(r){return r?Array.isArray(r)?r:[r]:[]}function yt(r,t){return Array.isArray(r)?r.includes(t):r===t}function Ae(r,t){let e=Zt(t);return Zt(r).forEach(i=>{yt(e,i)||e.push(i)}),e}function Se(r,t){return Zt(t).filter(e=>!yt(r,e))}var vt=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=ze(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Ke(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},X=class extends vt{name;get formDirective(){return null}get path(){return null}},dt=class extends vt{_parent=null;name=null;valueAccessor=null},bt=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},An={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Jr=y(_({},An),{"[class.ng-submitted]":"isSubmitted"}),Ye=(()=>{class r extends bt{constructor(e){super(e)}static \u0275fac=function(n){return new(n||r)(V(dt,2))};static \u0275dir=T({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,i){n&2&&B("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[z]})}return r})(),Xe=(()=>{class r extends bt{constructor(e){super(e)}static \u0275fac=function(n){return new(n||r)(V(X,10))};static \u0275dir=T({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,i){n&2&&B("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[z]})}return r})();var at="VALID",pt="INVALID",q="PENDING",st="DISABLED",H=class{},Ct=class extends H{value;source;constructor(t,e){super(),this.value=t,this.source=e}},ot=class extends H{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},lt=class extends H{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},Y=class extends H{status;source;constructor(t,e){super(),this.status=t,this.source=e}},Kt=class extends H{source;constructor(t){super(),this.source=t}},ut=class extends H{source;constructor(t){super(),this.source=t}};function Qt(r){return(Vt(r)?r.validators:r)||null}function Sn(r){return Array.isArray(r)?ze(r):r||null}function te(r,t){return(Vt(t)?t.asyncValidators:r)||null}function En(r){return Array.isArray(r)?Ke(r):r||null}function Vt(r){return r!=null&&!Array.isArray(r)&&typeof r=="object"}function Je(r,t,e){let n=r.controls;if(!(t?Object.keys(n):n).length)throw new ft(1e3,"");if(!n[e])throw new ft(1001,"")}function Qe(r,t,e){r._forEachChild((n,i)=>{if(e[i]===void 0)throw new ft(1002,"")})}var J=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return U(this.statusReactive)}set status(t){U(()=>this.statusReactive.set(t))}_status=j(()=>this.statusReactive());statusReactive=D(void 0);get valid(){return this.status===at}get invalid(){return this.status===pt}get pending(){return this.status==q}get disabled(){return this.status===st}get enabled(){return this.status!==st}errors;get pristine(){return U(this.pristineReactive)}set pristine(t){U(()=>this.pristineReactive.set(t))}_pristine=j(()=>this.pristineReactive());pristineReactive=D(!0);get dirty(){return!this.pristine}get touched(){return U(this.touchedReactive)}set touched(t){U(()=>this.touchedReactive.set(t))}_touched=j(()=>this.touchedReactive());touchedReactive=D(!1);get untouched(){return!this.touched}_events=new fe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Ae(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Ae(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Se(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Se(t,this._rawAsyncValidators))}hasValidator(t){return yt(this._rawValidators,t)}hasAsyncValidator(t){return yt(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(y(_({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new lt(!0,n))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:n})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n),e&&t.emitEvent!==!1&&this._events.next(new lt(!1,n))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(y(_({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new ot(!1,n))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),e&&t.emitEvent!==!1&&this._events.next(new ot(!0,n))}markAsPending(t={}){this.status=q;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Y(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(y(_({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=st,this.errors=null,this._forEachChild(i=>{i.disable(y(_({},t),{onlySelf:!0}))}),this._updateValue();let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Ct(this.value,n)),this._events.next(new Y(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(y(_({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=at,this._forEachChild(n=>{n.enable(y(_({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(y(_({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===at||this.status===q)&&this._runAsyncValidator(n,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Ct(this.value,e)),this._events.next(new Y(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(y(_({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?st:at}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=q,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1,shouldHaveEmitted:t!==!1};let n=Re(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((n,i)=>n&&n._find(i),this)}getError(t,e){let n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,n){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||n)&&this._events.next(new Y(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,n)}_initObservables(){this.valueChanges=new nt,this.statusChanges=new nt}_calculateStatus(){return this._allControlsDisabled()?st:this.errors?pt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(q)?q:this._anyControlsHaveStatus(pt)?pt:at}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let n=!this._anyControlsDirty(),i=this.pristine!==n;this.pristine=n,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),i&&this._events.next(new ot(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new lt(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Vt(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Sn(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=En(this._rawAsyncValidators)}},wt=class extends J{constructor(t,e,n){super(Qt(e),te(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Qe(this,!0,t),Object.keys(t).forEach(n=>{Je(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(n=>{let i=this.controls[n];i&&i.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,i)=>{n.reset(t?t[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e),e?.emitEvent!==!1&&this._events.next(new ut(this))}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>n._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,n,i)=>((n.enabled||this.disabled)&&(e[i]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((i,a)=>{n=e(n,i,a)}),n}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Wt=class extends wt{};var tn=new $("",{providedIn:"root",factory:()=>ee}),ee="always";function kn(r,t){return[...t.path,r]}function Ee(r,t,e=ee){ne(r,t),t.valueAccessor.writeValue(r.value),(r.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(r.disabled),On(r,t),Pn(r,t),Nn(r,t),Fn(r,t)}function ke(r,t,e=!0){let n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),xt(r,t),r&&(t._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function Mt(r,t){r.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Fn(r,t){if(t.valueAccessor.setDisabledState){let e=n=>{t.valueAccessor.setDisabledState(n)};r.registerOnDisabledChange(e),t._registerOnDestroy(()=>{r._unregisterOnDisabledChange(e)})}}function ne(r,t){let e=We(r);t.validator!==null?r.setValidators(Ve(e,t.validator)):typeof e=="function"&&r.setValidators([e]);let n=qe(r);t.asyncValidator!==null?r.setAsyncValidators(Ve(n,t.asyncValidator)):typeof n=="function"&&r.setAsyncValidators([n]);let i=()=>r.updateValueAndValidity();Mt(t._rawValidators,i),Mt(t._rawAsyncValidators,i)}function xt(r,t){let e=!1;if(r!==null){if(t.validator!==null){let i=We(r);if(Array.isArray(i)&&i.length>0){let a=i.filter(s=>s!==t.validator);a.length!==i.length&&(e=!0,r.setValidators(a))}}if(t.asyncValidator!==null){let i=qe(r);if(Array.isArray(i)&&i.length>0){let a=i.filter(s=>s!==t.asyncValidator);a.length!==i.length&&(e=!0,r.setAsyncValidators(a))}}}let n=()=>{};return Mt(t._rawValidators,n),Mt(t._rawAsyncValidators,n),e}function On(r,t){t.valueAccessor.registerOnChange(e=>{r._pendingValue=e,r._pendingChange=!0,r._pendingDirty=!0,r.updateOn==="change"&&en(r,t)})}function Nn(r,t){t.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,r.updateOn==="blur"&&r._pendingChange&&en(r,t),r.updateOn!=="submit"&&r.markAsTouched()})}function en(r,t){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function Pn(r,t){let e=(n,i)=>{t.valueAccessor.writeValue(n),i&&t.viewToModelUpdate(n)};r.registerOnChange(e),t._registerOnDestroy(()=>{r._unregisterOnChange(e)})}function In(r,t){r==null,ne(r,t)}function Ln(r,t){return xt(r,t)}function Bn(r,t){if(!r.hasOwnProperty("model"))return!1;let e=r.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function Tn(r){return Object.getPrototypeOf(r.constructor)===fn}function jn(r,t){r._syncPendingControls(),t.forEach(e=>{let n=e.control;n.updateOn==="submit"&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function Rn(r,t){if(!t)return null;Array.isArray(t);let e,n,i;return t.forEach(a=>{a.constructor===Dt?e=a:Tn(a)?n=a:i=a}),i||n||e||null}function Gn(r,t){let e=r.indexOf(t);e>-1&&r.splice(e,1)}function Fe(r,t){let e=r.indexOf(t);e>-1&&r.splice(e,1)}function Oe(r){return typeof r=="object"&&r!==null&&Object.keys(r).length===2&&"value"in r&&"disabled"in r}var _t=class extends J{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,n){super(Qt(e),te(n,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Vt(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Oe(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1,e?.emitEvent!==!1&&this._events.next(new ut(this))}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Fe(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Fe(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Oe(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var Un=r=>r instanceof _t;var nn=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275dir=T({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return r})();var rn=new $("");var Hn={provide:X,useExisting:gt(()=>re)},re=(()=>{class r extends X{callSetDisabledState;get submitted(){return U(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=j(()=>this._submittedReactive());_submittedReactive=D(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new nt;constructor(e,n,i){super(),this.callSetDisabledState=i,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(xt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let n=this.form.get(e.path);return Ee(n,e,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){ke(e.control||null,e,!1),Gn(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n)}onSubmit(e){return this._submittedReactive.set(!0),jn(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new Kt(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0,n={}){this.form.reset(e,n),this._submittedReactive.set(!1)}_updateDomValue(){this.directives.forEach(e=>{let n=e.control,i=this.form.get(e.path);n!==i&&(ke(n||null,e),Un(i)&&(Ee(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let n=this.form.get(e.path);In(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let n=this.form.get(e.path);n&&Ln(n,e)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ne(this.form,this),this._oldForm&&xt(this._oldForm,this)}static \u0275fac=function(n){return new(n||r)(V(Le,10),V(Be,10),V(tn,8))};static \u0275dir=T({type:r,selectors:[["","formGroup",""]],hostBindings:function(n,i){n&1&&M("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[mt([Hn]),z,Tt]})}return r})();var $n={provide:dt,useExisting:gt(()=>ie)},ie=(()=>{class r extends dt{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new nt;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,n,i,a,s){super(),this._ngModelWarningConfig=s,this._parent=e,this._setValidators(n),this._setAsyncValidators(i),this.valueAccessor=Rn(this,a)}ngOnChanges(e){this._added||this._setUpControl(),Bn(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return kn(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(n){return new(n||r)(V(X,13),V(Le,10),V(Be,10),V(Ie,10),V(rn,8))};static \u0275dir=T({type:r,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[mt([$n]),z,Tt]})}return r})();var zn=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Gt({type:r});static \u0275inj=Bt({})}return r})(),qt=class extends J{constructor(t,e,n){super(Qt(e),te(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){Array.isArray(t)?t.forEach(n=>{this.controls.push(n),this._registerControl(n)}):(this.controls.push(t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){let n=this._adjustIndex(t);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){Qe(this,!1,t),t.forEach((n,i)=>{Je(this,!1,i),this.at(i).setValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((n,i)=>{this.at(i)&&this.at(i).patchValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e),e?.emitEvent!==!1&&this._events.next(new ut(this))}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,n)=>n._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function Ne(r){return!!r&&(r.asyncValidators!==void 0||r.validators!==void 0||r.updateOn!==void 0)}var an=(()=>{class r{useNonNullable=!1;get nonNullable(){let e=new r;return e.useNonNullable=!0,e}group(e,n=null){let i=this._reduceControls(e),a={};return Ne(n)?a=n:n!==null&&(a.validators=n.validator,a.asyncValidators=n.asyncValidator),new wt(i,a)}record(e,n=null){let i=this._reduceControls(e);return new Wt(i,n)}control(e,n,i){let a={};return this.useNonNullable?(Ne(n)?a=n:(a.validators=n,a.asyncValidators=i),new _t(e,y(_({},a),{nonNullable:!0}))):new _t(e,n,i)}array(e,n,i){let a=e.map(s=>this._createControl(s));return new qt(a,n,i)}_reduceControls(e){let n={};return Object.keys(e).forEach(i=>{n[i]=this._createControl(e[i])}),n}_createControl(e){if(e instanceof _t)return e;if(e instanceof J)return e;if(Array.isArray(e)){let n=e[0],i=e.length>1?e[1]:null,a=e.length>2?e[2]:null;return this.control(n,i,a)}else return this.control(e)}static \u0275fac=function(n){return new(n||r)};static \u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var At=(()=>{class r{static withConfig(e){return{ngModule:r,providers:[{provide:rn,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:tn,useValue:e.callSetDisabledState??ee}]}}static \u0275fac=function(n){return new(n||r)};static \u0275mod=Gt({type:r});static \u0275inj=Bt({imports:[zn]})}return r})();var sn=[{path:"/assets/flashcards-array-01.json",filename:"flashcards-array-01.json",arrayNumber:1,localStorageKey:"spaced-repetition-cards-array-1",totalCards:20,lengthDistribution:{1:1,2:17,3:2},statistics:{averageBackLength:2.05,minBackLength:1,maxBackLength:3},createdAt:"2025-10-22T20:25:33.749Z",description:"Flashcards array 1 containing 20 cards with back field lengths ranging from 1 to 3 characters"},{path:"/assets/flashcards-array-02.json",filename:"flashcards-array-02.json",arrayNumber:2,localStorageKey:"spaced-repetition-cards-array-2",totalCards:20,lengthDistribution:{3:20},statistics:{averageBackLength:3,minBackLength:3,maxBackLength:3},createdAt:"2025-10-22T20:25:33.750Z",description:"Flashcards array 2 containing 20 cards with back field lengths ranging from 3 to 3 characters"},{path:"/assets/flashcards-array-03.json",filename:"flashcards-array-03.json",arrayNumber:3,localStorageKey:"spaced-repetition-cards-array-3",totalCards:20,lengthDistribution:{3:20},statistics:{averageBackLength:3,minBackLength:3,maxBackLength:3},createdAt:"2025-10-22T20:25:33.750Z",description:"Flashcards array 3 containing 20 cards with back field lengths ranging from 3 to 3 characters"},{path:"/assets/flashcards-array-04.json",filename:"flashcards-array-04.json",arrayNumber:4,localStorageKey:"spaced-repetition-cards-array-4",totalCards:20,lengthDistribution:{3:20},statistics:{averageBackLength:3,minBackLength:3,maxBackLength:3},createdAt:"2025-10-22T20:25:33.751Z",description:"Flashcards array 4 containing 20 cards with back field lengths ranging from 3 to 3 characters"},{path:"/assets/flashcards-array-05.json",filename:"flashcards-array-05.json",arrayNumber:5,localStorageKey:"spaced-repetition-cards-array-5",totalCards:20,lengthDistribution:{3:20},statistics:{averageBackLength:3,minBackLength:3,maxBackLength:3},createdAt:"2025-10-22T20:25:33.751Z",description:"Flashcards array 5 containing 20 cards with back field lengths ranging from 3 to 3 characters"},{path:"/assets/flashcards-array-06.json",filename:"flashcards-array-06.json",arrayNumber:6,localStorageKey:"spaced-repetition-cards-array-6",totalCards:20,lengthDistribution:{3:20},statistics:{averageBackLength:3,minBackLength:3,maxBackLength:3},createdAt:"2025-10-22T20:25:33.751Z",description:"Flashcards array 6 containing 20 cards with back field lengths ranging from 3 to 3 characters"},{path:"/assets/flashcards-array-07.json",filename:"flashcards-array-07.json",arrayNumber:7,localStorageKey:"spaced-repetition-cards-array-7",totalCards:20,lengthDistribution:{3:4,4:16},statistics:{averageBackLength:3.8,minBackLength:3,maxBackLength:4},createdAt:"2025-10-22T20:25:33.751Z",description:"Flashcards array 7 containing 20 cards with back field lengths ranging from 3 to 4 characters"},{path:"/assets/flashcards-array-08.json",filename:"flashcards-array-08.json",arrayNumber:8,localStorageKey:"spaced-repetition-cards-array-8",totalCards:20,lengthDistribution:{4:20},statistics:{averageBackLength:4,minBackLength:4,maxBackLength:4},createdAt:"2025-10-22T20:25:33.752Z",description:"Flashcards array 8 containing 20 cards with back field lengths ranging from 4 to 4 characters"},{path:"/assets/flashcards-array-09.json",filename:"flashcards-array-09.json",arrayNumber:9,localStorageKey:"spaced-repetition-cards-array-9",totalCards:20,lengthDistribution:{4:20},statistics:{averageBackLength:4,minBackLength:4,maxBackLength:4},createdAt:"2025-10-22T20:25:33.752Z",description:"Flashcards array 9 containing 20 cards with back field lengths ranging from 4 to 4 characters"},{path:"/assets/flashcards-array-10.json",filename:"flashcards-array-10.json",arrayNumber:10,localStorageKey:"spaced-repetition-cards-array-10",totalCards:20,lengthDistribution:{4:20},statistics:{averageBackLength:4,minBackLength:4,maxBackLength:4},createdAt:"2025-10-22T20:25:33.752Z",description:"Flashcards array 10 containing 20 cards with back field lengths ranging from 4 to 4 characters"},{path:"/assets/flashcards-array-11.json",filename:"flashcards-array-11.json",arrayNumber:11,localStorageKey:"spaced-repetition-cards-array-11",totalCards:20,lengthDistribution:{4:20},statistics:{averageBackLength:4,minBackLength:4,maxBackLength:4},createdAt:"2025-10-22T20:25:33.752Z",description:"Flashcards array 11 containing 20 cards with back field lengths ranging from 4 to 4 characters"},{path:"/assets/flashcards-array-12.json",filename:"flashcards-array-12.json",arrayNumber:12,localStorageKey:"spaced-repetition-cards-array-12",totalCards:20,lengthDistribution:{4:20},statistics:{averageBackLength:4,minBackLength:4,maxBackLength:4},createdAt:"2025-10-22T20:25:33.753Z",description:"Flashcards array 12 containing 20 cards with back field lengths ranging from 4 to 4 characters"},{path:"/assets/flashcards-array-13.json",filename:"flashcards-array-13.json",arrayNumber:13,localStorageKey:"spaced-repetition-cards-array-13",totalCards:20,lengthDistribution:{4:20},statistics:{averageBackLength:4,minBackLength:4,maxBackLength:4},createdAt:"2025-10-22T20:25:33.753Z",description:"Flashcards array 13 containing 20 cards with back field lengths ranging from 4 to 4 characters"},{path:"/assets/flashcards-array-14.json",filename:"flashcards-array-14.json",arrayNumber:14,localStorageKey:"spaced-repetition-cards-array-14",totalCards:20,lengthDistribution:{4:20},statistics:{averageBackLength:4,minBackLength:4,maxBackLength:4},createdAt:"2025-10-22T20:25:33.754Z",description:"Flashcards array 14 containing 20 cards with back field lengths ranging from 4 to 4 characters"},{path:"/assets/flashcards-array-15.json",filename:"flashcards-array-15.json",arrayNumber:15,localStorageKey:"spaced-repetition-cards-array-15",totalCards:20,lengthDistribution:{4:20},statistics:{averageBackLength:4,minBackLength:4,maxBackLength:4},createdAt:"2025-10-22T20:25:33.754Z",description:"Flashcards array 15 containing 20 cards with back field lengths ranging from 4 to 4 characters"},{path:"/assets/flashcards-array-16.json",filename:"flashcards-array-16.json",arrayNumber:16,localStorageKey:"spaced-repetition-cards-array-16",totalCards:20,lengthDistribution:{4:20},statistics:{averageBackLength:4,minBackLength:4,maxBackLength:4},createdAt:"2025-10-22T20:25:33.755Z",description:"Flashcards array 16 containing 20 cards with back field lengths ranging from 4 to 4 characters"},{path:"/assets/flashcards-array-17.json",filename:"flashcards-array-17.json",arrayNumber:17,localStorageKey:"spaced-repetition-cards-array-17",totalCards:20,lengthDistribution:{4:20},statistics:{averageBackLength:4,minBackLength:4,maxBackLength:4},createdAt:"2025-10-22T20:25:33.755Z",description:"Flashcards array 17 containing 20 cards with back field lengths ranging from 4 to 4 characters"},{path:"/assets/flashcards-array-18.json",filename:"flashcards-array-18.json",arrayNumber:18,localStorageKey:"spaced-repetition-cards-array-18",totalCards:20,lengthDistribution:{4:17,5:3},statistics:{averageBackLength:4.15,minBackLength:4,maxBackLength:5},createdAt:"2025-10-22T20:25:33.755Z",description:"Flashcards array 18 containing 20 cards with back field lengths ranging from 4 to 5 characters"},{path:"/assets/flashcards-array-19.json",filename:"flashcards-array-19.json",arrayNumber:19,localStorageKey:"spaced-repetition-cards-array-19",totalCards:20,lengthDistribution:{5:20},statistics:{averageBackLength:5,minBackLength:5,maxBackLength:5},createdAt:"2025-10-22T20:25:33.755Z",description:"Flashcards array 19 containing 20 cards with back field lengths ranging from 5 to 5 characters"},{path:"/assets/flashcards-array-20.json",filename:"flashcards-array-20.json",arrayNumber:20,localStorageKey:"spaced-repetition-cards-array-20",totalCards:20,lengthDistribution:{5:20},statistics:{averageBackLength:5,minBackLength:5,maxBackLength:5},createdAt:"2025-10-22T20:25:33.755Z",description:"Flashcards array 20 containing 20 cards with back field lengths ranging from 5 to 5 characters"},{path:"/assets/flashcards-array-21.json",filename:"flashcards-array-21.json",arrayNumber:21,localStorageKey:"spaced-repetition-cards-array-21",totalCards:20,lengthDistribution:{5:20},statistics:{averageBackLength:5,minBackLength:5,maxBackLength:5},createdAt:"2025-10-22T20:25:33.756Z",description:"Flashcards array 21 containing 20 cards with back field lengths ranging from 5 to 5 characters"},{path:"/assets/flashcards-array-22.json",filename:"flashcards-array-22.json",arrayNumber:22,localStorageKey:"spaced-repetition-cards-array-22",totalCards:20,lengthDistribution:{5:20},statistics:{averageBackLength:5,minBackLength:5,maxBackLength:5},createdAt:"2025-10-22T20:25:33.756Z",description:"Flashcards array 22 containing 20 cards with back field lengths ranging from 5 to 5 characters"},{path:"/assets/flashcards-array-23.json",filename:"flashcards-array-23.json",arrayNumber:23,localStorageKey:"spaced-repetition-cards-array-23",totalCards:20,lengthDistribution:{5:20},statistics:{averageBackLength:5,minBackLength:5,maxBackLength:5},createdAt:"2025-10-22T20:25:33.757Z",description:"Flashcards array 23 containing 20 cards with back field lengths ranging from 5 to 5 characters"},{path:"/assets/flashcards-array-24.json",filename:"flashcards-array-24.json",arrayNumber:24,localStorageKey:"spaced-repetition-cards-array-24",totalCards:20,lengthDistribution:{5:20},statistics:{averageBackLength:5,minBackLength:5,maxBackLength:5},createdAt:"2025-10-22T20:25:33.757Z",description:"Flashcards array 24 containing 20 cards with back field lengths ranging from 5 to 5 characters"},{path:"/assets/flashcards-array-25.json",filename:"flashcards-array-25.json",arrayNumber:25,localStorageKey:"spaced-repetition-cards-array-25",totalCards:20,lengthDistribution:{5:20},statistics:{averageBackLength:5,minBackLength:5,maxBackLength:5},createdAt:"2025-10-22T20:25:33.757Z",description:"Flashcards array 25 containing 20 cards with back field lengths ranging from 5 to 5 characters"},{path:"/assets/flashcards-array-26.json",filename:"flashcards-array-26.json",arrayNumber:26,localStorageKey:"spaced-repetition-cards-array-26",totalCards:20,lengthDistribution:{5:20},statistics:{averageBackLength:5,minBackLength:5,maxBackLength:5},createdAt:"2025-10-22T20:25:33.758Z",description:"Flashcards array 26 containing 20 cards with back field lengths ranging from 5 to 5 characters"},{path:"/assets/flashcards-array-27.json",filename:"flashcards-array-27.json",arrayNumber:27,localStorageKey:"spaced-repetition-cards-array-27",totalCards:20,lengthDistribution:{5:14,6:6},statistics:{averageBackLength:5.3,minBackLength:5,maxBackLength:6},createdAt:"2025-10-22T20:25:33.758Z",description:"Flashcards array 27 containing 20 cards with back field lengths ranging from 5 to 6 characters"},{path:"/assets/flashcards-array-28.json",filename:"flashcards-array-28.json",arrayNumber:28,localStorageKey:"spaced-repetition-cards-array-28",totalCards:20,lengthDistribution:{6:20},statistics:{averageBackLength:6,minBackLength:6,maxBackLength:6},createdAt:"2025-10-22T20:25:33.758Z",description:"Flashcards array 28 containing 20 cards with back field lengths ranging from 6 to 6 characters"},{path:"/assets/flashcards-array-29.json",filename:"flashcards-array-29.json",arrayNumber:29,localStorageKey:"spaced-repetition-cards-array-29",totalCards:20,lengthDistribution:{6:20},statistics:{averageBackLength:6,minBackLength:6,maxBackLength:6},createdAt:"2025-10-22T20:25:33.758Z",description:"Flashcards array 29 containing 20 cards with back field lengths ranging from 6 to 6 characters"},{path:"/assets/flashcards-array-30.json",filename:"flashcards-array-30.json",arrayNumber:30,localStorageKey:"spaced-repetition-cards-array-30",totalCards:20,lengthDistribution:{6:20},statistics:{averageBackLength:6,minBackLength:6,maxBackLength:6},createdAt:"2025-10-22T20:25:33.758Z",description:"Flashcards array 30 containing 20 cards with back field lengths ranging from 6 to 6 characters"},{path:"/assets/flashcards-array-31.json",filename:"flashcards-array-31.json",arrayNumber:31,localStorageKey:"spaced-repetition-cards-array-31",totalCards:20,lengthDistribution:{6:20},statistics:{averageBackLength:6,minBackLength:6,maxBackLength:6},createdAt:"2025-10-22T20:25:33.759Z",description:"Flashcards array 31 containing 20 cards with back field lengths ranging from 6 to 6 characters"},{path:"/assets/flashcards-array-32.json",filename:"flashcards-array-32.json",arrayNumber:32,localStorageKey:"spaced-repetition-cards-array-32",totalCards:20,lengthDistribution:{6:20},statistics:{averageBackLength:6,minBackLength:6,maxBackLength:6},createdAt:"2025-10-22T20:25:33.759Z",description:"Flashcards array 32 containing 20 cards with back field lengths ranging from 6 to 6 characters"},{path:"/assets/flashcards-array-33.json",filename:"flashcards-array-33.json",arrayNumber:33,localStorageKey:"spaced-repetition-cards-array-33",totalCards:20,lengthDistribution:{6:20},statistics:{averageBackLength:6,minBackLength:6,maxBackLength:6},createdAt:"2025-10-22T20:25:33.759Z",description:"Flashcards array 33 containing 20 cards with back field lengths ranging from 6 to 6 characters"},{path:"/assets/flashcards-array-34.json",filename:"flashcards-array-34.json",arrayNumber:34,localStorageKey:"spaced-repetition-cards-array-34",totalCards:20,lengthDistribution:{6:20},statistics:{averageBackLength:6,minBackLength:6,maxBackLength:6},createdAt:"2025-10-22T20:25:33.759Z",description:"Flashcards array 34 containing 20 cards with back field lengths ranging from 6 to 6 characters"},{path:"/assets/flashcards-array-35.json",filename:"flashcards-array-35.json",arrayNumber:35,localStorageKey:"spaced-repetition-cards-array-35",totalCards:20,lengthDistribution:{6:20},statistics:{averageBackLength:6,minBackLength:6,maxBackLength:6},createdAt:"2025-10-22T20:25:33.759Z",description:"Flashcards array 35 containing 20 cards with back field lengths ranging from 6 to 6 characters"},{path:"/assets/flashcards-array-36.json",filename:"flashcards-array-36.json",arrayNumber:36,localStorageKey:"spaced-repetition-cards-array-36",totalCards:20,lengthDistribution:{6:20},statistics:{averageBackLength:6,minBackLength:6,maxBackLength:6},createdAt:"2025-10-22T20:25:33.760Z",description:"Flashcards array 36 containing 20 cards with back field lengths ranging from 6 to 6 characters"},{path:"/assets/flashcards-array-37.json",filename:"flashcards-array-37.json",arrayNumber:37,localStorageKey:"spaced-repetition-cards-array-37",totalCards:20,lengthDistribution:{6:3,7:17},statistics:{averageBackLength:6.85,minBackLength:6,maxBackLength:7},createdAt:"2025-10-22T20:25:33.760Z",description:"Flashcards array 37 containing 20 cards with back field lengths ranging from 6 to 7 characters"},{path:"/assets/flashcards-array-38.json",filename:"flashcards-array-38.json",arrayNumber:38,localStorageKey:"spaced-repetition-cards-array-38",totalCards:20,lengthDistribution:{7:20},statistics:{averageBackLength:7,minBackLength:7,maxBackLength:7},createdAt:"2025-10-22T20:25:33.760Z",description:"Flashcards array 38 containing 20 cards with back field lengths ranging from 7 to 7 characters"},{path:"/assets/flashcards-array-39.json",filename:"flashcards-array-39.json",arrayNumber:39,localStorageKey:"spaced-repetition-cards-array-39",totalCards:20,lengthDistribution:{7:20},statistics:{averageBackLength:7,minBackLength:7,maxBackLength:7},createdAt:"2025-10-22T20:25:33.760Z",description:"Flashcards array 39 containing 20 cards with back field lengths ranging from 7 to 7 characters"},{path:"/assets/flashcards-array-40.json",filename:"flashcards-array-40.json",arrayNumber:40,localStorageKey:"spaced-repetition-cards-array-40",totalCards:20,lengthDistribution:{7:20},statistics:{averageBackLength:7,minBackLength:7,maxBackLength:7},createdAt:"2025-10-22T20:25:33.761Z",description:"Flashcards array 40 containing 20 cards with back field lengths ranging from 7 to 7 characters"},{path:"/assets/flashcards-array-41.json",filename:"flashcards-array-41.json",arrayNumber:41,localStorageKey:"spaced-repetition-cards-array-41",totalCards:20,lengthDistribution:{7:19,8:1},statistics:{averageBackLength:7.05,minBackLength:7,maxBackLength:8},createdAt:"2025-10-22T20:25:33.761Z",description:"Flashcards array 41 containing 20 cards with back field lengths ranging from 7 to 8 characters"},{path:"/assets/flashcards-array-42.json",filename:"flashcards-array-42.json",arrayNumber:42,localStorageKey:"spaced-repetition-cards-array-42",totalCards:20,lengthDistribution:{8:20},statistics:{averageBackLength:8,minBackLength:8,maxBackLength:8},createdAt:"2025-10-22T20:25:33.761Z",description:"Flashcards array 42 containing 20 cards with back field lengths ranging from 8 to 8 characters"},{path:"/assets/flashcards-array-43.json",filename:"flashcards-array-43.json",arrayNumber:43,localStorageKey:"spaced-repetition-cards-array-43",totalCards:20,lengthDistribution:{8:20},statistics:{averageBackLength:8,minBackLength:8,maxBackLength:8},createdAt:"2025-10-22T20:25:33.761Z",description:"Flashcards array 43 containing 20 cards with back field lengths ranging from 8 to 8 characters"},{path:"/assets/flashcards-array-44.json",filename:"flashcards-array-44.json",arrayNumber:44,localStorageKey:"spaced-repetition-cards-array-44",totalCards:20,lengthDistribution:{8:20},statistics:{averageBackLength:8,minBackLength:8,maxBackLength:8},createdAt:"2025-10-22T20:25:33.762Z",description:"Flashcards array 44 containing 20 cards with back field lengths ranging from 8 to 8 characters"},{path:"/assets/flashcards-array-45.json",filename:"flashcards-array-45.json",arrayNumber:45,localStorageKey:"spaced-repetition-cards-array-45",totalCards:20,lengthDistribution:{8:11,9:9},statistics:{averageBackLength:8.45,minBackLength:8,maxBackLength:9},createdAt:"2025-10-22T20:25:33.762Z",description:"Flashcards array 45 containing 20 cards with back field lengths ranging from 8 to 9 characters"},{path:"/assets/flashcards-array-46.json",filename:"flashcards-array-46.json",arrayNumber:46,localStorageKey:"spaced-repetition-cards-array-46",totalCards:20,lengthDistribution:{9:20},statistics:{averageBackLength:9,minBackLength:9,maxBackLength:9},createdAt:"2025-10-22T20:25:33.762Z",description:"Flashcards array 46 containing 20 cards with back field lengths ranging from 9 to 9 characters"},{path:"/assets/flashcards-array-47.json",filename:"flashcards-array-47.json",arrayNumber:47,localStorageKey:"spaced-repetition-cards-array-47",totalCards:20,lengthDistribution:{9:18,10:2},statistics:{averageBackLength:9.1,minBackLength:9,maxBackLength:10},createdAt:"2025-10-22T20:25:33.762Z",description:"Flashcards array 47 containing 20 cards with back field lengths ranging from 9 to 10 characters"},{path:"/assets/flashcards-array-48.json",filename:"flashcards-array-48.json",arrayNumber:48,localStorageKey:"spaced-repetition-cards-array-48",totalCards:20,lengthDistribution:{10:20},statistics:{averageBackLength:10,minBackLength:10,maxBackLength:10},createdAt:"2025-10-22T20:25:33.763Z",description:"Flashcards array 48 containing 20 cards with back field lengths ranging from 10 to 10 characters"},{path:"/assets/flashcards-array-49.json",filename:"flashcards-array-49.json",arrayNumber:49,localStorageKey:"spaced-repetition-cards-array-49",totalCards:20,lengthDistribution:{10:9,11:11},statistics:{averageBackLength:10.55,minBackLength:10,maxBackLength:11},createdAt:"2025-10-22T20:25:33.763Z",description:"Flashcards array 49 containing 20 cards with back field lengths ranging from 10 to 11 characters"},{path:"/assets/flashcards-array-50.json",filename:"flashcards-array-50.json",arrayNumber:50,localStorageKey:"spaced-repetition-cards-array-50",totalCards:20,lengthDistribution:{11:11,12:6,13:1,14:1,15:1},statistics:{averageBackLength:11.75,minBackLength:11,maxBackLength:15},createdAt:"2025-10-22T20:25:33.764Z",description:"Flashcards array 50 containing 20 cards with back field lengths ranging from 11 to 15 characters"}];var Kn=(r,t)=>t.arrayNumber,Wn=(r,t)=>t.length;function qn(r,t){r&1&&(x(0,"span",8),c(1,"Selected"),w())}function Yn(r,t){if(r&1&&(x(0,"span",18),c(1),w()),r&2){let e=t.$implicit;p(),it(" ",e.length,"ch: ",e.count," ")}}function Xn(r,t){if(r&1){let e=L();x(0,"div",19)(1,"button",20),$t("click",function(i){S(e);let a=b().$implicit,s=b();return E(s.startStudying(i,a))}),c(2," Start Studying This Array "),w()()}}function Jn(r,t){if(r&1){let e=L();x(0,"div",5),$t("click",function(){let i=S(e).$implicit,a=b();return E(a.selectArray(i.arrayNumber))}),x(1,"div",6)(2,"div",7)(3,"h3"),c(4),w(),F(5,qn,2,0,"span",8),w(),x(6,"span",9),c(7),w()(),x(8,"div",10)(9,"p",11),c(10),w(),x(11,"div",12)(12,"div",13)(13,"span",14),c(14,"Average length:"),w(),x(15,"span",15),c(16),w()(),x(17,"div",13)(18,"span",14),c(19,"Range:"),w(),x(20,"span",15),c(21),w()()(),x(22,"div",16)(23,"h4"),c(24,"Length Distribution:"),w(),x(25,"div",17),Ut(26,Yn,2,2,"span",18,Wn),w()(),F(28,Xn,3,0,"div",19),w()()}if(r&2){let e=t.$implicit,n=b();B("selected",n.isSelected(e.arrayNumber)),p(4),Z("Array ",e.arrayNumber),p(),O(n.isSelected(e.arrayNumber)?5:-1),p(2),Z("",e.totalCards," cards"),p(3),N(e.description),p(6),N(e.statistics.averageBackLength),p(5),it("",e.statistics.minBackLength," - ",e.statistics.maxBackLength),p(5),Ht(n.getLengthDistributionEntries(e.lengthDistribution)),p(2),O(n.isSelected(e.arrayNumber)?28:-1)}}var St=class r{flashcardArrays=D(sn);selectedArrayNumber=D(null);arraySelected=we();getLengthDistributionEntries(t){return Object.entries(t).map(([e,n])=>({length:parseInt(e),count:n})).sort((e,n)=>e.length-n.length)}formatDate(t){let e=new Date(t);return e.toLocaleDateString()+" "+e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}selectArray(t){this.selectedArrayNumber.set(t)}startStudying(t,e){t.stopPropagation(),this.arraySelected.emit(e)}isSelected(t){return this.selectedArrayNumber()===t}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=K({type:r,selectors:[["app-flashcard-arrays-list"]],outputs:{arraySelected:"arraySelected"},decls:9,vars:0,consts:[[1,"flashcard-arrays-container"],[1,"header-section"],[1,"subtitle"],[1,"arrays-list"],[1,"array-card",3,"selected"],[1,"array-card",3,"click"],[1,"array-header"],[1,"title-section"],[1,"selected-badge"],[1,"total-cards"],[1,"array-details"],[1,"description"],[1,"statistics"],[1,"stat-item"],[1,"label"],[1,"value"],[1,"length-distribution"],[1,"distribution-items"],[1,"distribution-item"],[1,"action-section"],["type","button",1,"start-study-btn",3,"click"]],template:function(e,n){e&1&&(x(0,"div",0)(1,"div",1)(2,"h2"),c(3,"Flashcard Arrays"),w(),x(4,"p",2),c(5,"Overview of all available flashcard collections"),w()(),x(6,"div",3),Ut(7,Jn,29,10,"div",4,Kn),w()()),e&2&&(p(7),Ht(n.flashcardArrays()))},dependencies:[W],styles:[".flashcard-arrays-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.header-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.header-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#333;margin-bottom:8px;font-size:2rem}.header-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:#666;font-size:1.1rem;margin:0}.arrays-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:20px}.array-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #ddd;border-radius:8px;padding:20px;box-shadow:0 2px 4px #0000001a;transition:all .3s ease;cursor:pointer}.array-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #00000026;transform:translateY(-2px)}.array-card.selected[_ngcontent-%COMP%]{border:2px solid #007bff;box-shadow:0 0 0 3px #007bff33;transform:translateY(-2px);background:#f8f9fa}.array-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px;border-bottom:1px solid #eee;padding-bottom:10px}.array-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.array-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#2c5aa0;font-size:1.3rem}.array-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .selected-badge[_ngcontent-%COMP%]{background:#007bff;color:#fff;padding:3px 8px;border-radius:12px;font-size:.7rem;font-weight:700;text-transform:uppercase;letter-spacing:.5px}.array-header[_ngcontent-%COMP%]   .total-cards[_ngcontent-%COMP%]{background:#e3f2fd;color:#1976d2;padding:4px 8px;border-radius:4px;font-size:.9rem;font-weight:600}.array-details[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:.95rem;color:#666;margin-bottom:15px;line-height:1.4}.statistics[_ngcontent-%COMP%]{display:flex;gap:15px;margin-bottom:15px}.statistics[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.statistics[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.8rem;color:#888;text-transform:uppercase;letter-spacing:.5px}.statistics[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-top:2px}.length-distribution[_ngcontent-%COMP%]{margin-bottom:15px}.length-distribution[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.9rem;color:#333;margin-bottom:8px;text-transform:uppercase;letter-spacing:.5px}.length-distribution[_ngcontent-%COMP%]   .distribution-items[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.length-distribution[_ngcontent-%COMP%]   .distribution-item[_ngcontent-%COMP%]{background:#f5f5f5;padding:3px 8px;border-radius:4px;font-size:.85rem;color:#555;border:1px solid #ddd}.metadata[_ngcontent-%COMP%]{border-top:1px solid #eee;padding-top:12px}.metadata[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:5px}.metadata[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.85rem;color:#666;font-weight:500}.metadata[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:.85rem;color:#333;text-align:right;word-break:break-all;max-width:60%}.action-section[_ngcontent-%COMP%]{margin-top:15px;padding-top:15px;border-top:1px solid #e9ecef;text-align:center}.action-section[_ngcontent-%COMP%]   .start-study-btn[_ngcontent-%COMP%]{background:#28a745;color:#fff;border:none;padding:10px 20px;border-radius:6px;font-weight:600;font-size:.9rem;cursor:pointer;transition:all .3s ease;text-transform:uppercase;letter-spacing:.5px}.action-section[_ngcontent-%COMP%]   .start-study-btn[_ngcontent-%COMP%]:hover{background:#218838;transform:translateY(-1px);box-shadow:0 2px 6px #28a7454d}.action-section[_ngcontent-%COMP%]   .start-study-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}@media (max-width: 768px){.arrays-list[_ngcontent-%COMP%]{grid-template-columns:1fr}.array-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px}.array-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{flex-wrap:wrap}.statistics[_ngcontent-%COMP%]{flex-direction:column;gap:8px}.meta-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.meta-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{max-width:100%;text-align:left}}"]})};var m=(r=>(r[r.New=0]="New",r[r.Learning=1]="Learning",r[r.Review=2]="Review",r[r.Relearning=3]="Relearning",r))(m||{}),o=(r=>(r[r.Manual=0]="Manual",r[r.Again=1]="Again",r[r.Hard=2]="Hard",r[r.Good=3]="Good",r[r.Easy=4]="Easy",r))(o||{}),f=class r{static card(t){return y(_({},t),{state:r.state(t.state),due:r.time(t.due),last_review:t.last_review?r.time(t.last_review):void 0})}static rating(t){if(typeof t=="string"){let e=t.charAt(0).toUpperCase(),n=t.slice(1).toLowerCase(),i=o[`${e}${n}`];if(i===void 0)throw new Error(`Invalid rating:[${t}]`);return i}else if(typeof t=="number")return t;throw new Error(`Invalid rating:[${t}]`)}static state(t){if(typeof t=="string"){let e=t.charAt(0).toUpperCase(),n=t.slice(1).toLowerCase(),i=m[`${e}${n}`];if(i===void 0)throw new Error(`Invalid state:[${t}]`);return i}else if(typeof t=="number")return t;throw new Error(`Invalid state:[${t}]`)}static time(t){let e=new Date(t);if(typeof t=="object"&&t!==null&&!Number.isNaN(Date.parse(t)||+e))return e;if(typeof t=="string"){let n=Date.parse(t);if(Number.isNaN(n))throw new Error(`Invalid date:[${t}]`);return new Date(n)}else if(typeof t=="number")return new Date(t);throw new Error(`Invalid date:[${t}]`)}static review_log(t){return y(_({},t),{due:r.time(t.due),rating:r.rating(t.rating),state:r.state(t.state),review:r.time(t.review)})}};Date.prototype.scheduler=function(r,t){return P(this,r,t)};Date.prototype.diff=function(r,t){return Q(this,r,t)};Date.prototype.format=function(){return Qn(this)};Date.prototype.dueFormat=function(r,t,e){return tr(this,r,t,e)};function P(r,t,e){return new Date(e?f.time(r).getTime()+t*24*60*60*1e3:f.time(r).getTime()+t*60*1e3)}function Q(r,t,e){if(!r||!t)throw new Error("Invalid date");let n=f.time(r).getTime()-f.time(t).getTime(),i=0;switch(e){case"days":i=Math.floor(n/(1440*60*1e3));break;case"minutes":i=Math.floor(n/(60*1e3));break}return i}function Qn(r){let t=f.time(r),e=t.getFullYear(),n=t.getMonth()+1,i=t.getDate(),a=t.getHours(),s=t.getMinutes(),l=t.getSeconds();return`${e}-${ht(n)}-${ht(i)} ${ht(a)}:${ht(s)}:${ht(l)}`}function ht(r){return r<10?`0${r}`:`${r}`}var ae=[60,60,24,31,12],se=["second","min","hour","day","month","year"];function tr(r,t,e,n=se){r=f.time(r),t=f.time(t),n.length!==se.length&&(n=se);let i=r.getTime()-t.getTime(),a=0;for(i/=1e3,a=0;a<ae.length&&!(i<ae[a]);a++)i/=ae[a];return`${Math.floor(i)}${e?n[a]:""}`}var er=Object.freeze([o.Again,o.Hard,o.Good,o.Easy]),nr=[{start:2.5,end:7,factor:.15},{start:7,end:20,factor:.1},{start:20,end:1/0,factor:.05}];function rr(r,t,e){let n=1;for(let s of nr)n+=s.factor*Math.max(Math.min(r,s.end)-s.start,0);r=Math.min(r,e);let i=Math.max(2,Math.round(r-n)),a=Math.min(Math.round(r+n),e);return r>t&&(i=Math.max(i,t+1)),i=Math.min(i,a),{min_ivl:i,max_ivl:a}}function A(r,t,e){return Math.min(Math.max(r,t),e)}function ir(r,t){let e=Date.UTC(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),n=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate());return Math.floor((n-e)/864e5)}var ar=r=>{let t=r.slice(-1),e=parseInt(r.slice(0,-1),10);if(Number.isNaN(e)||!Number.isFinite(e)||e<0)throw new Error(`Invalid step value: ${r}`);switch(t){case"m":return e;case"h":return e*60;case"d":return e*1440;default:throw new Error(`Invalid step unit: ${r}, expected m/h/d`)}},sr=(r,t,e)=>{let n=t===m.Relearning||t===m.Review?r.relearning_steps:r.learning_steps,i=n.length;if(i===0||e>=i)return{};let a=n[0],s=ar,l=()=>s(a),d=()=>{if(i===1)return Math.round(s(a)*1.5);let C=n[1];return Math.round((s(a)+s(C))/2)},g=C=>C<0||C>=i?null:n[C],v=C=>s(C),k={},R=g(Math.max(0,e));if(t===m.Review)return k[o.Again]={scheduled_minutes:s(R),next_step:0},k;{k[o.Again]={scheduled_minutes:l(),next_step:0},k[o.Hard]={scheduled_minutes:d(),next_step:e};let C=g(e+1);if(C){let G=v(C);G&&(k[o.Good]={scheduled_minutes:Math.round(G),next_step:e+1})}}return k};function or(){let r=this.review_time.getTime(),t=this.current.reps,e=this.current.difficulty*this.current.stability;return`${r}_${t}_${e}`}var Pt=(r=>(r.SCHEDULER="Scheduler",r.LEARNING_STEPS="LearningSteps",r.SEED="Seed",r))(Pt||{}),kt=class{last;current;review_time;next=new Map;algorithm;strategies;elapsed_days=0;constructor(t,e,n,i){this.algorithm=n,this.last=f.card(t),this.current=f.card(t),this.review_time=f.time(e),this.strategies=i,this.init()}checkGrade(t){if(!Number.isFinite(t)||t<0||t>4)throw new Error(`Invalid grade "${t}",expected 1-4`)}init(){let{state:t,last_review:e}=this.current,n=0;t!==m.New&&e&&(n=ir(e,this.review_time)),this.current.last_review=this.review_time,this.elapsed_days=n,this.current.elapsed_days=n,this.current.reps+=1;let i=or;if(this.strategies){let a=this.strategies.get(Pt.SEED);a&&(i=a)}this.algorithm.seed=i.call(this)}preview(){return{[o.Again]:this.review(o.Again),[o.Hard]:this.review(o.Hard),[o.Good]:this.review(o.Good),[o.Easy]:this.review(o.Easy),[Symbol.iterator]:this.previewIterator.bind(this)}}*previewIterator(){for(let t of er)yield this.review(t)}review(t){let{state:e}=this.last,n;switch(this.checkGrade(t),e){case m.New:n=this.newState(t);break;case m.Learning:case m.Relearning:n=this.learningState(t);break;case m.Review:n=this.reviewState(t);break}return n}buildLog(t){let{last_review:e,due:n,elapsed_days:i}=this.last;return{rating:t,state:this.current.state,due:e||n,stability:this.current.stability,difficulty:this.current.difficulty,elapsed_days:this.elapsed_days,last_elapsed_days:i,scheduled_days:this.current.scheduled_days,learning_steps:this.current.learning_steps,review:this.review_time}}},le=class{c;s0;s1;s2;constructor(t){let e=lr();this.c=1,this.s0=e(" "),this.s1=e(" "),this.s2=e(" "),t==null&&(t=Date.now()),this.s0-=e(t),this.s0<0&&(this.s0+=1),this.s1-=e(t),this.s1<0&&(this.s1+=1),this.s2-=e(t),this.s2<0&&(this.s2+=1)}next(){let t=2091639*this.s0+this.c*23283064365386963e-26;return this.s0=this.s1,this.s1=this.s2,this.c=t|0,this.s2=t-this.c,this.s2}set state(t){this.c=t.c,this.s0=t.s0,this.s1=t.s1,this.s2=t.s2}get state(){return{c:this.c,s0:this.s0,s1:this.s1,s2:this.s2}}};function lr(){let r=4022871197;return function(e){e=String(e);for(let n=0;n<e.length;n++){r+=e.charCodeAt(n);let i=.02519603282416938*r;r=i>>>0,i-=r,i*=r,r=i>>>0,i-=r,r+=i*4294967296}return(r>>>0)*23283064365386963e-26}}function cr(r){let t=new le(r),e=()=>t.next();return e.int32=()=>t.next()*4294967296|0,e.double=()=>e()+(e()*2097152|0)*11102230246251565e-32,e.state=()=>t.state,e.importState=n=>(t.state=n,e),e}var dr="5.2.3",ur=.9,hr=36500,fr=!1,It=!0,gr=Object.freeze(["1m","10m"]),mr=Object.freeze(["10m"]),li=`v${dr} using FSRS-6.0`,I=.001;var Et=100,ln=.5,pr=.1542,cn=Object.freeze([.212,1.2931,2.3065,8.2956,6.4133,.8334,3.0194,.001,1.8722,.1666,.796,1.4835,.0614,.2629,1.6483,.6014,1.8729,.5425,.0912,.0658,pr]),_r=2,yr=(r,t=It)=>[[I,Et],[I,Et],[I,Et],[I,Et],[1,10],[.001,4],[.001,4],[.001,.75],[0,4.5],[0,.8],[.001,3.5],[.001,5],[.001,.25],[.001,.9],[0,4],[0,1],[1,6],[0,r],[0,r],[t?.01:0,.8],[.1,.8]],oe=(r,t,e=It)=>{let n=_r;if(Math.max(0,t)>1){let a=-(Math.log(r[11])+Math.log(Math.pow(2,r[13])-1)+r[14]*.3)/t;n=A(+a.toFixed(8),.01,2)}return yr(n,e).slice(0,r.length).map(([a,s],l)=>A(r[l]||0,a,s))};var he=(r,t=0,e=It)=>{if(r===void 0)return[...cn];switch(r.length){case 21:return oe(Array.from(r),t,e);case 19:return console.debug("[FSRS-6]auto fill w from 19 to 21 length"),oe(Array.from(r),t,e).concat([0,ln]);case 17:{let n=oe(Array.from(r),t,e);return n[4]=+(n[5]*2+n[4]).toFixed(8),n[5]=+(Math.log(n[5]*3+1)/3).toFixed(8),n[6]=+(n[6]+.5).toFixed(8),console.debug("[FSRS-6]auto fill w from 17 to 21 length"),n.concat([0,0,0,ln])}default:return console.warn("[FSRS]Invalid parameters length, using default parameters"),[...cn]}},dn=r=>{let t=Array.isArray(r?.learning_steps)?r.learning_steps:gr,e=Array.isArray(r?.relearning_steps)?r.relearning_steps:mr,n=r?.enable_short_term??It,i=he(r?.w,e.length,n);return{request_retention:r?.request_retention||ur,maximum_interval:r?.maximum_interval||hr,w:i,enable_fuzz:r?.enable_fuzz??fr,enable_short_term:n,learning_steps:t,relearning_steps:e}};function tt(r,t){let e={due:r?f.time(r):new Date,stability:0,difficulty:0,elapsed_days:0,scheduled_days:0,reps:0,lapses:0,learning_steps:0,state:m.New,last_review:void 0};return t&&typeof t=="function"?t(e):e}var un=r=>{let t=typeof r=="number"?-r:-r[20],e=Math.exp(Math.pow(t,-1)*Math.log(.9))-1;return{decay:t,factor:+e.toFixed(8)}};function ce(r,t,e){let{decay:n,factor:i}=un(r);return+Math.pow(1+i*t/e,n).toFixed(8)}var de=class{param;intervalModifier;_seed;constructor(t){this.param=new Proxy(dn(t),this.params_handler_proxy()),this.intervalModifier=this.calculate_interval_modifier(this.param.request_retention),this.forgetting_curve=ce.bind(this,this.param.w)}get interval_modifier(){return this.intervalModifier}set seed(t){this._seed=t}calculate_interval_modifier(t){if(t<=0||t>1)throw new Error("Requested retention rate should be in the range (0,1]");let{decay:e,factor:n}=un(this.param.w);return+((Math.pow(t,1/e)-1)/n).toFixed(8)}get parameters(){return this.param}set parameters(t){this.update_parameters(t)}params_handler_proxy(){let t=this;return{set:function(e,n,i){return n==="request_retention"&&Number.isFinite(i)?t.intervalModifier=t.calculate_interval_modifier(Number(i)):n==="w"&&(i=he(i,e.relearning_steps.length,e.enable_short_term),t.forgetting_curve=ce.bind(this,i),t.intervalModifier=t.calculate_interval_modifier(Number(e.request_retention))),Reflect.set(e,n,i),!0}}}update_parameters(t){let e=dn(t);for(let n in e){let i=n;this.param[i]=e[i]}}init_stability(t){return Math.max(this.param.w[t-1],.1)}init_difficulty(t){return+(this.param.w[4]-Math.exp((t-1)*this.param.w[5])+1).toFixed(8)}apply_fuzz(t,e){if(!this.param.enable_fuzz||t<2.5)return Math.round(t);let i=cr(this._seed)(),{min_ivl:a,max_ivl:s}=rr(t,e,this.param.maximum_interval);return Math.floor(i*(s-a+1)+a)}next_interval(t,e){let n=Math.min(Math.max(1,Math.round(t*this.intervalModifier)),this.param.maximum_interval);return this.apply_fuzz(n,e)}linear_damping(t,e){return+(t*(10-e)/9).toFixed(8)}next_difficulty(t,e){let n=-this.param.w[6]*(e-3),i=t+this.linear_damping(n,t);return A(this.mean_reversion(this.init_difficulty(o.Easy),i),1,10)}mean_reversion(t,e){return+(this.param.w[7]*t+(1-this.param.w[7])*e).toFixed(8)}next_recall_stability(t,e,n,i){let a=o.Hard===i?this.param.w[15]:1,s=o.Easy===i?this.param.w[16]:1;return+A(e*(1+Math.exp(this.param.w[8])*(11-t)*Math.pow(e,-this.param.w[9])*(Math.exp((1-n)*this.param.w[10])-1)*a*s),I,36500).toFixed(8)}next_forget_stability(t,e,n){return+A(this.param.w[11]*Math.pow(t,-this.param.w[12])*(Math.pow(e+1,this.param.w[13])-1)*Math.exp((1-n)*this.param.w[14]),I,36500).toFixed(8)}next_short_term_stability(t,e){let n=Math.pow(t,-this.param.w[19])*Math.exp(this.param.w[17]*(e-3+this.param.w[18])),i=e>=3?Math.max(n,1):n;return+A(t*i,I,36500).toFixed(8)}forgetting_curve;next_state(t,e,n){let{difficulty:i,stability:a}=t??{difficulty:0,stability:0};if(e<0)throw new Error(`Invalid delta_t "${e}"`);if(n<0||n>4)throw new Error(`Invalid grade "${n}"`);if(i===0&&a===0)return{difficulty:A(this.init_difficulty(n),1,10),stability:this.init_stability(n)};if(n===0)return{difficulty:i,stability:a};if(i<1||a<I)throw new Error(`Invalid memory state { difficulty: ${i}, stability: ${a} }`);let s=this.forgetting_curve(e,a),l=this.next_recall_stability(i,a,s,n),d=this.next_forget_stability(i,a,s),g=this.next_short_term_stability(a,n),v=l;if(n===1){let[R,C]=[0,0];this.param.enable_short_term&&(R=this.param.w[17],C=this.param.w[18]);let G=a/Math.exp(R*C);v=A(+G.toFixed(8),I,d)}return e===0&&this.param.enable_short_term&&(v=g),{difficulty:this.next_difficulty(i,n),stability:v}}},Ft=class extends kt{learningStepsStrategy;constructor(t,e,n,i){super(t,e,n,i);let a=sr;if(this.strategies){let s=this.strategies.get(Pt.LEARNING_STEPS);s&&(a=s)}this.learningStepsStrategy=a}getLearningInfo(t,e){let n=this.algorithm.parameters;t.learning_steps=t.learning_steps||0;let i=this.learningStepsStrategy(n,t.state,this.current.state===m.Learning&&e!==o.Again&&e!==o.Hard?t.learning_steps+1:t.learning_steps),a=Math.max(0,i[e]?.scheduled_minutes??0),s=Math.max(0,i[e]?.next_step??0);return{scheduled_minutes:a,next_steps:s}}applyLearningSteps(t,e,n){let{scheduled_minutes:i,next_steps:a}=this.getLearningInfo(this.current,e);if(i>0&&i<1440)t.learning_steps=a,t.scheduled_days=0,t.state=n,t.due=P(this.review_time,Math.round(i),!1);else if(t.state=m.Review,i>=1440)t.learning_steps=a,t.due=P(this.review_time,Math.round(i),!1),t.scheduled_days=Math.floor(i/1440);else{t.learning_steps=0;let s=this.algorithm.next_interval(t.stability,this.elapsed_days);t.scheduled_days=s,t.due=P(this.review_time,s,!0)}}newState(t){let e=this.next.get(t);if(e)return e;let n=f.card(this.current);n.difficulty=A(this.algorithm.init_difficulty(t),1,10),n.stability=this.algorithm.init_stability(t),this.applyLearningSteps(n,t,m.Learning);let i={card:n,log:this.buildLog(t)};return this.next.set(t,i),i}learningState(t){let e=this.next.get(t);if(e)return e;let{state:n,difficulty:i,stability:a}=this.last,s=f.card(this.current);s.difficulty=this.algorithm.next_difficulty(i,t),s.stability=this.algorithm.next_short_term_stability(a,t),this.applyLearningSteps(s,t,n);let l={card:s,log:this.buildLog(t)};return this.next.set(t,l),l}reviewState(t){let e=this.next.get(t);if(e)return e;let n=this.elapsed_days,{difficulty:i,stability:a}=this.last,s=this.algorithm.forgetting_curve(n,a),l=f.card(this.current),d=f.card(this.current),g=f.card(this.current),v=f.card(this.current);this.next_ds(l,d,g,v,i,a,s),this.next_interval(d,g,v,n),this.next_state(d,g,v),this.applyLearningSteps(l,o.Again,m.Relearning),l.lapses+=1;let k={card:l,log:this.buildLog(o.Again)},R={card:d,log:super.buildLog(o.Hard)},C={card:g,log:super.buildLog(o.Good)},G={card:v,log:super.buildLog(o.Easy)};return this.next.set(o.Again,k),this.next.set(o.Hard,R),this.next.set(o.Good,C),this.next.set(o.Easy,G),this.next.get(t)}next_ds(t,e,n,i,a,s,l){t.difficulty=this.algorithm.next_difficulty(a,o.Again);let d=s/Math.exp(this.algorithm.parameters.w[17]*this.algorithm.parameters.w[18]),g=this.algorithm.next_forget_stability(a,s,l);t.stability=A(+d.toFixed(8),I,g),e.difficulty=this.algorithm.next_difficulty(a,o.Hard),e.stability=this.algorithm.next_recall_stability(a,s,l,o.Hard),n.difficulty=this.algorithm.next_difficulty(a,o.Good),n.stability=this.algorithm.next_recall_stability(a,s,l,o.Good),i.difficulty=this.algorithm.next_difficulty(a,o.Easy),i.stability=this.algorithm.next_recall_stability(a,s,l,o.Easy)}next_interval(t,e,n,i){let a,s;a=this.algorithm.next_interval(t.stability,i),s=this.algorithm.next_interval(e.stability,i),a=Math.min(a,s),s=Math.max(s,a+1);let l=Math.max(this.algorithm.next_interval(n.stability,i),s+1);t.scheduled_days=a,t.due=P(this.review_time,a,!0),e.scheduled_days=s,e.due=P(this.review_time,s,!0),n.scheduled_days=l,n.due=P(this.review_time,l,!0)}next_state(t,e,n){t.state=m.Review,t.learning_steps=0,e.state=m.Review,e.learning_steps=0,n.state=m.Review,n.learning_steps=0}},Ot=class extends kt{newState(t){let e=this.next.get(t);if(e)return e;this.current.scheduled_days=0,this.current.elapsed_days=0;let n=f.card(this.current),i=f.card(this.current),a=f.card(this.current),s=f.card(this.current);return this.init_ds(n,i,a,s),this.next_interval(n,i,a,s,0),this.next_state(n,i,a,s),this.update_next(n,i,a,s),this.next.get(t)}init_ds(t,e,n,i){t.difficulty=A(this.algorithm.init_difficulty(o.Again),1,10),t.stability=this.algorithm.init_stability(o.Again),e.difficulty=A(this.algorithm.init_difficulty(o.Hard),1,10),e.stability=this.algorithm.init_stability(o.Hard),n.difficulty=A(this.algorithm.init_difficulty(o.Good),1,10),n.stability=this.algorithm.init_stability(o.Good),i.difficulty=A(this.algorithm.init_difficulty(o.Easy),1,10),i.stability=this.algorithm.init_stability(o.Easy)}learningState(t){return this.reviewState(t)}reviewState(t){let e=this.next.get(t);if(e)return e;let n=this.elapsed_days,{difficulty:i,stability:a}=this.last,s=this.algorithm.forgetting_curve(n,a),l=f.card(this.current),d=f.card(this.current),g=f.card(this.current),v=f.card(this.current);return this.next_ds(l,d,g,v,i,a,s),this.next_interval(l,d,g,v,n),this.next_state(l,d,g,v),l.lapses+=1,this.update_next(l,d,g,v),this.next.get(t)}next_ds(t,e,n,i,a,s,l){t.difficulty=this.algorithm.next_difficulty(a,o.Again);let d=this.algorithm.next_forget_stability(a,s,l);t.stability=A(s,I,d),e.difficulty=this.algorithm.next_difficulty(a,o.Hard),e.stability=this.algorithm.next_recall_stability(a,s,l,o.Hard),n.difficulty=this.algorithm.next_difficulty(a,o.Good),n.stability=this.algorithm.next_recall_stability(a,s,l,o.Good),i.difficulty=this.algorithm.next_difficulty(a,o.Easy),i.stability=this.algorithm.next_recall_stability(a,s,l,o.Easy)}next_interval(t,e,n,i,a){let s,l,d,g;s=this.algorithm.next_interval(t.stability,a),l=this.algorithm.next_interval(e.stability,a),d=this.algorithm.next_interval(n.stability,a),g=this.algorithm.next_interval(i.stability,a),s=Math.min(s,l),l=Math.max(l,s+1),d=Math.max(d,l+1),g=Math.max(g,d+1),t.scheduled_days=s,t.due=P(this.review_time,s,!0),e.scheduled_days=l,e.due=P(this.review_time,l,!0),n.scheduled_days=d,n.due=P(this.review_time,d,!0),i.scheduled_days=g,i.due=P(this.review_time,g,!0)}next_state(t,e,n,i){t.state=m.Review,t.learning_steps=0,e.state=m.Review,e.learning_steps=0,n.state=m.Review,n.learning_steps=0,i.state=m.Review,i.learning_steps=0}update_next(t,e,n,i){let a={card:t,log:this.buildLog(o.Again)},s={card:e,log:super.buildLog(o.Hard)},l={card:n,log:super.buildLog(o.Good)},d={card:i,log:super.buildLog(o.Easy)};this.next.set(o.Again,a),this.next.set(o.Hard,s),this.next.set(o.Good,l),this.next.set(o.Easy,d)}},ue=class{fsrs;constructor(t){this.fsrs=t}replay(t,e,n){return this.fsrs.next(t,e,n)}handleManualRating(t,e,n,i,a,s,l){if(typeof e>"u")throw new Error("reschedule: state is required for manual rating");let d,g;if(e===m.New)d={rating:o.Manual,state:e,due:l??n,stability:t.stability,difficulty:t.difficulty,elapsed_days:i,last_elapsed_days:t.elapsed_days,scheduled_days:t.scheduled_days,learning_steps:t.learning_steps,review:n},g=tt(n),g.last_review=n;else{if(typeof l>"u")throw new Error("reschedule: due is required for manual rating");let v=Q(l,n,"days");d={rating:o.Manual,state:t.state,due:t.last_review||t.due,stability:t.stability,difficulty:t.difficulty,elapsed_days:i,last_elapsed_days:t.elapsed_days,scheduled_days:t.scheduled_days,learning_steps:t.learning_steps,review:n},g=y(_({},t),{state:e,due:l,last_review:n,stability:a||t.stability,difficulty:s||t.difficulty,elapsed_days:i,scheduled_days:v,reps:t.reps+1})}return{card:g,log:d}}reschedule(t,e){let n=[],i=tt(t.due);for(let a of e){let s;if(a.review=f.time(a.review),a.rating===o.Manual){let l=0;i.state!==m.New&&i.last_review&&(l=Q(a.review,i.last_review,"days")),s=this.handleManualRating(i,a.state,a.review,l,a.stability,a.difficulty,a.due?f.time(a.due):void 0)}else s=this.replay(i,a.review,a.rating);n.push(s),i=s.card}return n}calculateManualRecord(t,e,n,i){if(!n)return null;let{card:a,log:s}=n,l=f.card(t);return l.due.getTime()===a.due.getTime()?null:(l.scheduled_days=Q(a.due,l.due,"days"),this.handleManualRating(l,a.state,f.time(e),s.elapsed_days,i?a.stability:void 0,i?a.difficulty:void 0,a.due))}},Nt=class extends de{strategyHandler=new Map;Scheduler;constructor(t){super(t);let{enable_short_term:e}=this.parameters;this.Scheduler=e?Ft:Ot}params_handler_proxy(){let t=this;return{set:function(e,n,i){return n==="request_retention"&&Number.isFinite(i)?t.intervalModifier=t.calculate_interval_modifier(Number(i)):n==="enable_short_term"?t.Scheduler=i===!0?Ft:Ot:n==="w"&&(i=he(i,e.relearning_steps.length,e.enable_short_term),t.forgetting_curve=ce.bind(this,i),t.intervalModifier=t.calculate_interval_modifier(Number(e.request_retention))),Reflect.set(e,n,i),!0}}}useStrategy(t,e){return this.strategyHandler.set(t,e),this}clearStrategy(t){return t?this.strategyHandler.delete(t):this.strategyHandler.clear(),this}getScheduler(t,e){let i=this.strategyHandler.get(Pt.SCHEDULER)||this.Scheduler;return new i(t,e,this,this.strategyHandler)}repeat(t,e,n){let a=this.getScheduler(t,e).preview();return n&&typeof n=="function"?n(a):a}next(t,e,n,i){let a=this.getScheduler(t,e),s=f.rating(n);if(s===o.Manual)throw new Error("Cannot review a manual rating");let l=a.review(s);return i&&typeof i=="function"?i(l):l}get_retrievability(t,e,n=!0){let i=f.card(t);e=e?f.time(e):new Date;let a=i.state!==m.New?Math.max(Q(e,i.last_review,"days"),0):0,s=i.state!==m.New?this.forgetting_curve(a,+i.stability.toFixed(8)):0;return n?`${(s*100).toFixed(2)}%`:s}rollback(t,e,n){let i=f.card(t),a=f.review_log(e);if(a.rating===o.Manual)throw new Error("Cannot rollback a manual rating");let s,l,d;switch(a.state){case m.New:s=a.due,l=void 0,d=0;break;case m.Learning:case m.Relearning:case m.Review:s=a.review,l=a.due,d=i.lapses-(a.rating===o.Again&&a.state===m.Review?1:0);break}let g=y(_({},i),{due:s,stability:a.stability,difficulty:a.difficulty,elapsed_days:a.last_elapsed_days,scheduled_days:a.scheduled_days,reps:Math.max(0,i.reps-1),lapses:Math.max(0,d),learning_steps:a.learning_steps,state:a.state,last_review:l});return n&&typeof n=="function"?n(g):g}forget(t,e,n=!1,i){let a=f.card(t);e=f.time(e);let s=a.state===m.New?0:Q(e,a.due,"days"),l={rating:o.Manual,state:a.state,due:a.due,stability:a.stability,difficulty:a.difficulty,elapsed_days:0,last_elapsed_days:a.elapsed_days,scheduled_days:s,learning_steps:a.learning_steps,review:e},g={card:y(_({},a),{due:e,stability:0,difficulty:0,elapsed_days:0,scheduled_days:0,reps:n?0:a.reps,lapses:n?0:a.lapses,learning_steps:0,state:m.New,last_review:a.last_review}),log:l};return i&&typeof i=="function"?i(g):g}reschedule(t,e=[],n={}){let{recordLogHandler:i,reviewsOrderBy:a,skipManual:s=!0,now:l=new Date,update_memory_state:d=!1}=n;a&&typeof a=="function"&&e.sort(a),s&&(e=e.filter(G=>G.rating!==o.Manual));let g=new ue(this),v=g.reschedule(n.first_card||tt(),e),k=v.length,R=f.card(t),C=g.calculateManualRecord(R,l,k?v[k-1]:void 0,d);return i&&typeof i=="function"?{collections:v.map(i),reschedule_item:C?i(C):null}:{collections:v,reschedule_item:C}}};function vr(r,t){if(r&1&&(u(0,"div",0)(1,"span"),c(2),h(),u(3,"span"),c(4),h(),u(5,"span",8),c(6),h()()),r&2){let e=b();p(2),Z("Cards due: ",e.dueCards().length),p(2),Z("Total cards: ",e.allCards().length),p(2),Z("Array ",e.selectedFlashcards().arrayNumber)}}function br(r,t){r&1&&(u(0,"div",1)(1,"p"),c(2,"Loading cards..."),h()())}function Cr(r,t){if(r&1){let e=L();u(0,"div",2)(1,"h2"),c(2,"No cards to review!"),h(),u(3,"p"),c(4,"Great job! All cards have been reviewed."),h(),u(5,"button",9),M("click",function(){S(e);let i=b();return E(i.showAddForm.set(!0))}),c(6," Add New Card "),h()()}}function wr(r,t){if(r&1){let e=L();u(0,"button",15),M("click",function(){S(e);let i=b(2);return E(i.revealCard())}),c(1,"Show Answer"),h()}}function Mr(r,t){if(r&1){let e=L();u(0,"button",18),M("click",function(){S(e);let i=b(3);return E(i.rateCard(1))}),u(1,"span",19),c(2,"Again"),h(),u(3,"span",20),c(4),h()(),u(5,"button",21),M("click",function(){S(e);let i=b(3);return E(i.rateCard(2))}),u(6,"span",19),c(7,"Hard"),h(),u(8,"span",20),c(9),h()(),u(10,"button",22),M("click",function(){S(e);let i=b(3);return E(i.rateCard(3))}),u(11,"span",19),c(12,"Good"),h(),u(13,"span",20),c(14),h()(),u(15,"button",23),M("click",function(){S(e);let i=b(3);return E(i.rateCard(4))}),u(16,"span",19),c(17,"Easy"),h(),u(18,"span",20),c(19),h()()}if(r&2){let e=t,n=b(3);p(4),N(n.formatTimeUntil(e.again)),p(5),N(n.formatTimeUntil(e.hard)),p(5),N(n.formatTimeUntil(e.good)),p(5),N(n.formatTimeUntil(e.easy))}}function xr(r,t){if(r&1&&(u(0,"div",14)(1,"p"),c(2,"Answer:"),h(),u(3,"h3"),c(4),h(),u(5,"div",16)(6,"small"),c(7),h()(),u(8,"div",17),F(9,Mr,20,4),h()()),r&2){let e,n=b(2);p(4),N(n.currentCard().back),p(3),N(n.getCardStats(n.currentCard())),p(2),O((e=n.getSchedulingPreview())?9:-1,e)}}function Dr(r,t){if(r&1&&(u(0,"div",3)(1,"div",10),c(2),h(),u(3,"div",11)(4,"div",12)(5,"h3"),c(6),h(),F(7,wr,2,0,"button",13),h(),F(8,xr,10,3,"div",14),h()()),r&2){let e=b();p(2),it("",e.currentCardIndex()+1," / ",e.dueCards().length),p(),B("revealed",e.currentCard().isRevealed),p(3),N(e.currentCard().front),p(),O(e.currentCard().isRevealed?-1:7),p(),O(e.currentCard().isRevealed?8:-1)}}function Vr(r,t){if(r&1){let e=L();u(0,"div",4)(1,"h3"),c(2,"Add New Card"),h(),u(3,"form",24),M("ngSubmit",function(){S(e);let i=b();return E(i.addCard())}),u(4,"div",25)(5,"label",26),c(6,"Front (Question):"),h(),u(7,"textarea",27),c(8,"      "),h()(),u(9,"div",25)(10,"label",28),c(11,"Back (Answer):"),h(),u(12,"textarea",29),c(13,"      "),h()(),u(14,"div",30)(15,"button",31),c(16,"Add Card"),h(),u(17,"button",15),M("click",function(){S(e);let i=b();return E(i.cancelAddCard())}),c(18,"Cancel"),h()()()()}if(r&2){let e=b();p(3),rt("formGroup",e.cardForm),p(12),rt("disabled",e.cardForm.invalid)}}var Lt=class r{fb=et(an);fsrs=new Nt({});isLoading=D(!0);allCards=D([]);currentCardIndex=D(0);showAddForm=D(!1);platformId=et(ve);isBrowser=xe(this.platformId);http=et(De);selectedFlashcards=Me.required();cardForm=this.fb.nonNullable.group({front:["",[ct.required]],back:["",[ct.required]]});dueCards=j(()=>{if(this.isLoading())return[];let t=new Date;return this.allCards().filter(e=>e.fsrsCard.state===m.New||e.fsrsCard.due<=t)});currentCard=j(()=>{let t=this.dueCards(),e=this.currentCardIndex();return t[e]||null});getSchedulingPreview=j(()=>{let t=this.currentCard();if(!t)return null;let e=this.fsrs.repeat(t.fsrsCard,new Date);return{again:e[o.Again].card.due,hard:e[o.Hard].card.due,good:e[o.Good].card.due,easy:e[o.Easy].card.due}});constructor(){}ngOnInit(){this.loadCards()}revealCard(){let t=this.currentCard();if(t){let e=this.allCards().map(n=>n.id===t.id?y(_({},n),{isRevealed:!0}):n);this.allCards.set(e)}}rateCard(t){let e=this.currentCard();if(!e)return;let n=t===1?o.Again:t===2?o.Hard:t===3?o.Good:o.Easy,a=this.fsrs.repeat(e.fsrsCard,new Date)[n].card,s=this.allCards().map(d=>d.id===e.id?y(_({},d),{fsrsCard:a,isRevealed:!1}):d);this.allCards.set(s),this.saveCards();let l=this.dueCards();l.length===0?this.currentCardIndex.set(0):this.currentCardIndex()>=l.length&&this.currentCardIndex.set(0)}addCard(){if(this.cardForm.valid){let t=this.cardForm.getRawValue(),e={id:crypto.randomUUID(),front:t.front,back:t.back,fsrsCard:tt(),isRevealed:!1};this.allCards.update(n=>[...n,e]),this.saveCards(),this.cancelAddCard()}}cancelAddCard(){this.showAddForm.set(!1),this.cardForm.reset()}resetAllCards(){if(confirm("Are you sure you want to reset all cards? This will clear all progress.")){let t=this.allCards().map(e=>y(_({},e),{fsrsCard:tt(),isRevealed:!1}));this.allCards.set(t),this.currentCardIndex.set(0),this.saveCards()}}formatTimeUntil(t){let e=new Date,n=t.getTime()-e.getTime(),i=Math.floor(n/(1e3*60)),a=Math.floor(n/(1e3*60*60)),s=Math.floor(n/(1e3*60*60*24));return i<60?`${Math.max(1,i)}m`:a<24?`${a}h`:s<30?`${s}d`:`${Math.floor(s/30)}mo`}getCardStats(t){let e=t.fsrsCard;if(e.state===m.New)return"New card";let n=e.reps,i=e.lapses,a=Math.round(e.difficulty*10)/10;return`${n} reviews, ${i} lapses, difficulty: ${a}`}saveCards(){if(!this.isBrowser)return;let t=this.allCards().map(e=>({id:e.id,front:e.front,back:e.back,fsrsCard:{due:e.fsrsCard.due.toISOString(),stability:e.fsrsCard.stability,difficulty:e.fsrsCard.difficulty,elapsed_days:e.fsrsCard.elapsed_days,scheduled_days:e.fsrsCard.scheduled_days,reps:e.fsrsCard.reps,lapses:e.fsrsCard.lapses,state:e.fsrsCard.state,last_review:e.fsrsCard.last_review?.toISOString()}}));localStorage.setItem(this.selectedFlashcards().localStorageKey,JSON.stringify(t))}loadCards(){if(!this.isBrowser)return;let t=localStorage.getItem(this.selectedFlashcards().localStorageKey);if(t)try{let n=JSON.parse(t).map(i=>({id:i.id,front:i.front,back:i.back,isRevealed:!1,fsrsCard:y(_({},i.fsrsCard),{due:new Date(i.fsrsCard.due),last_review:i.fsrsCard.last_review?new Date(i.fsrsCard.last_review):void 0})}));this.allCards.set(n)}catch(e){console.error("Error loading cards:",e),this.initializeSampleCards()}else this.initializeSampleCards();setTimeout(()=>{this.isLoading.set(!1)},200)}initializeSampleCards(){this.http.get("/home-page"+this.selectedFlashcards().path).subscribe({next:t=>{let e=t.map(n=>({id:crypto.randomUUID(),front:n.front,back:n.back,isRevealed:!1,fsrsCard:y(_({},n.fsrsCard),{due:new Date(n.fsrsCard.due),last_review:n.fsrsCard.last_review?new Date(n.fsrsCard.last_review):void 0})}));this.allCards.set(e),this.saveCards()},error:t=>{console.error("Error loading flashcards:",t)}})}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=K({type:r,selectors:[["app-study-view"]],inputs:{selectedFlashcards:[1,"selectedFlashcards"]},decls:10,vars:3,consts:[[1,"stats"],[1,"loading"],[1,"no-cards"],[1,"study-area"],[1,"add-card-form"],[1,"controls"],["type","button",1,"btn","btn-outline",3,"click"],["type","button",1,"btn","btn-outline","btn-danger",3,"click"],[1,"current-array"],["type","button",1,"btn","btn-primary",3,"click"],[1,"card-counter"],[1,"flashcard"],[1,"card-front"],["type","button",1,"btn","btn-secondary"],[1,"card-back"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"card-stats"],[1,"rating-buttons"],["type","button",1,"btn","btn-rating","btn-again",3,"click"],[1,"rating-label"],[1,"rating-time"],["type","button",1,"btn","btn-rating","btn-hard",3,"click"],["type","button",1,"btn","btn-rating","btn-good",3,"click"],["type","button",1,"btn","btn-rating","btn-easy",3,"click"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","front"],["id","front","formControlName","front","placeholder","Enter the question or prompt","rows","3"],["for","back"],["id","back","formControlName","back","placeholder","Enter the answer","rows","3"],[1,"form-actions"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(e,n){e&1&&(F(0,vr,7,3,"div",0),F(1,br,3,0,"div",1)(2,Cr,7,0,"div",2)(3,Dr,9,7,"div",3),F(4,Vr,19,2,"div",4),u(5,"div",5)(6,"button",6),M("click",function(){return n.showAddForm.set(!0)}),c(7,"Add Card"),h(),u(8,"button",7),M("click",function(){return n.resetAllCards()}),c(9," Reset All "),h()()),e&2&&(O(n.isLoading()?-1:0),p(),O(n.isLoading()?1:n.currentCard()?3:2),p(3),O(n.showAddForm()?4:-1))},dependencies:[W,At,nn,Dt,Ye,Xe,re,ie],styles:[".stats[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:2rem}.stats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:.5rem 1rem;background:#f8f9fa;border-radius:.5rem;font-weight:500}.stats[_ngcontent-%COMP%]   span.current-array[_ngcontent-%COMP%]{background:#007bff;color:#fff;font-weight:600}.no-cards[_ngcontent-%COMP%]{text-align:center;padding:3rem}.no-cards[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#6c757d;margin-bottom:1.5rem}.study-area[_ngcontent-%COMP%]{margin-bottom:2rem}.study-area[_ngcontent-%COMP%]   .card-counter[_ngcontent-%COMP%]{text-align:center;margin-bottom:1rem;font-weight:600;color:#6c757d}.flashcard[_ngcontent-%COMP%]{background:#fff;border-radius:1rem;box-shadow:0 4px 6px -1px #0000001a;padding:2rem;min-height:200px;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;transition:all .3s ease}.flashcard.revealed[_ngcontent-%COMP%]{background:#f8f9fa}.flashcard[_ngcontent-%COMP%]   .card-front[_ngcontent-%COMP%], .flashcard[_ngcontent-%COMP%]   .card-back[_ngcontent-%COMP%]{width:100%}.flashcard[_ngcontent-%COMP%]   .card-front[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .flashcard[_ngcontent-%COMP%]   .card-back[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#2c3e50}.flashcard[_ngcontent-%COMP%]   .card-front[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .flashcard[_ngcontent-%COMP%]   .card-back[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;line-height:1.6;margin-bottom:1.5rem}.flashcard[_ngcontent-%COMP%]   .card-stats[_ngcontent-%COMP%]{margin:1rem 0;text-align:center}.flashcard[_ngcontent-%COMP%]   .card-stats[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#6c757d;font-size:.9rem}.rating-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:2rem;flex-wrap:wrap;justify-content:center}@media (max-width: 600px){.rating-buttons[_ngcontent-%COMP%]{flex-direction:column;align-items:center}}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:.5rem;font-weight:600;cursor:pointer;transition:all .2s ease;text-decoration:none;display:inline-flex;align-items:center;justify-content:center}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px)}.btn-primary[_ngcontent-%COMP%]{background:#007bff;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#0056b3}.btn-secondary[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#545b62}.btn-outline[_ngcontent-%COMP%]{background:transparent;border:2px solid #007bff;color:#007bff}.btn-outline[_ngcontent-%COMP%]:hover:not(:disabled){background:#007bff;color:#fff}.btn-outline.btn-danger[_ngcontent-%COMP%]{border-color:#dc3545;color:#dc3545}.btn-outline.btn-danger[_ngcontent-%COMP%]:hover:not(:disabled){background:#dc3545;color:#fff}.btn-rating[_ngcontent-%COMP%]{min-width:80px;display:flex;flex-direction:column;align-items:center;gap:.25rem}.btn-rating[_ngcontent-%COMP%]   .rating-label[_ngcontent-%COMP%]{font-weight:600}.btn-rating[_ngcontent-%COMP%]   .rating-time[_ngcontent-%COMP%]{font-size:.8rem;opacity:.8}.btn-rating.btn-again[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.btn-rating.btn-again[_ngcontent-%COMP%]:hover{background:#c82333}.btn-rating.btn-hard[_ngcontent-%COMP%]{background:#fd7e14;color:#fff}.btn-rating.btn-hard[_ngcontent-%COMP%]:hover{background:#e8690b}.btn-rating.btn-good[_ngcontent-%COMP%]{background:#28a745;color:#fff}.btn-rating.btn-good[_ngcontent-%COMP%]:hover{background:#1e7e34}.btn-rating.btn-easy[_ngcontent-%COMP%]{background:#17a2b8;color:#fff}.btn-rating.btn-easy[_ngcontent-%COMP%]:hover{background:#138496}.add-card-form[_ngcontent-%COMP%]{background:#fff;padding:2rem;border-radius:1rem;box-shadow:0 4px 6px -1px #0000001a;margin-bottom:2rem}.add-card-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#2c3e50}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:600;color:#495057}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:2px solid #dee2e6;border-radius:.5rem;font-size:1rem;transition:border-color .2s ease}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff}.form-group[_ngcontent-%COMP%]   textarea.ng-invalid.ng-touched[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#dc3545}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;font-family:inherit}.form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem}@media (max-width: 600px){.form-actions[_ngcontent-%COMP%]{flex-direction:column}}.controls[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem;margin-top:2rem}@media (max-width: 600px){.controls[_ngcontent-%COMP%]{flex-direction:column;align-items:center}}.loading[_ngcontent-%COMP%]{text-align:center;padding:3rem}.loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d;font-size:1.1rem}"]})};function Ar(r,t){if(r&1){let e=L();u(0,"app-flashcard-arrays-list",5),M("arraySelected",function(i){S(e);let a=b();return E(a.onArraySelected(i))}),h()}}function Sr(r,t){if(r&1&&Ce(0,"app-study-view",4),r&2){let e=b();rt("selectedFlashcards",e.selectedFlashcards())}}var hn=class r{currentView=D("arraysList");selectedFlashcards=D(null);onArraySelected(t){console.log("Array selected in parent component:",t),this.selectedFlashcards.set(t),this.currentView.set("study")}toggleToArraysList(){this.currentView.set("arraysList")}toggleToStudyView(){this.currentView.set("study")}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=K({type:r,selectors:[["app-spaced-repetition"]],decls:11,vars:5,consts:[[1,"spaced-repetition-container"],[1,"header"],[1,"view-navigation"],["type","button",1,"btn","btn-nav",3,"click"],[3,"selectedFlashcards"],[3,"arraySelected"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"header",1)(2,"h1"),c(3,"Spaced Repetition Study"),h(),u(4,"nav",2)(5,"button",3),M("click",function(){return n.toggleToArraysList()}),c(6," Arrays List "),h(),u(7,"button",3),M("click",function(){return n.toggleToStudyView()}),c(8," Study "),h()()(),F(9,Ar,1,0,"app-flashcard-arrays-list")(10,Sr,1,1,"app-study-view",4),h()),e&2&&(p(5),B("active",n.currentView()==="arraysList"),p(2),B("active",n.currentView()==="study"),p(2),O(n.currentView()==="arraysList"?9:n.selectedFlashcards()?10:-1))},dependencies:[W,At,St,Lt],styles:[".spaced-repetition-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:2rem;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:1rem}.header[_ngcontent-%COMP%]   .view-navigation[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.5rem;margin-bottom:1.5rem}.header[_ngcontent-%COMP%]   .view-navigation[_ngcontent-%COMP%]   .btn-nav[_ngcontent-%COMP%]{padding:.5rem 1rem;border:2px solid #e9ecef;background:#fff;color:#6c757d;border-radius:.5rem;font-weight:500;cursor:pointer;transition:all .3s ease}.header[_ngcontent-%COMP%]   .view-navigation[_ngcontent-%COMP%]   .btn-nav[_ngcontent-%COMP%]:hover{background:#f8f9fa;border-color:#dee2e6}.header[_ngcontent-%COMP%]   .view-navigation[_ngcontent-%COMP%]   .btn-nav.active[_ngcontent-%COMP%]{background:#007bff;color:#fff;border-color:#007bff}"],changeDetection:0})};export{hn as SpacedRepetitionComponent};
